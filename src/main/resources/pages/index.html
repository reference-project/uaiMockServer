<!DOCTYPE html>
<html lang="en" ng-app="uaiMockServerApp">
<head>
    <meta charset="utf-8">
    <link rel="icon" type="image/x-icon" href="/uai-mock-server-gui/favicon" />

    <link rel="stylesheet" href="/uai-mock-server-gui/css?fileName=bootstrap" />
    <link rel="stylesheet" href="/uai-mock-server-gui/css?fileName=tableSort" />

    <script type="application/javascript" src="/uai-mock-server-gui/javascript?fileName=angular"></script>
    <script type="application/javascript" src="/uai-mock-server-gui/javascript?fileName=tableSort"></script>
    <title>
        UaiMockServer - GUI
    </title>
</head>
<body>
<div ng-controller="routeController" class="container">
    <table class="table" ts-wrapper>
        <thead>
        <tr>
            <th ts-criteria="method">Method</th>
            <th ts-criteria="path" ts-default>Path</th>
            <th ts-criteria="requiredContentType">Required Content Type</th>
            <th ts-criteria="holdRequestInMilli">Hold the Request Milli</th>
        </tr>
        </thead>
        <tbody>
        <tr ng-repeat="request in requestList track by request.path" ts-repeat>
            <td>{{request.method}}</td>
            <td>{{request.path}}</td>
            <td>{{request.requiredContentType}}</td>
            <td>{{request.holdRequestInMilli}}</td>
        </tr>
        </tbody>
    </table>
</div>
</body>
<script>
    var app = angular.module('uaiMockServerApp', ['tableSort']);

    app.controller('routeController', function($scope, $http) {
        $http.get('/uai-mock-server-gui/uaiRoute').
                success(function(data) {
                    $scope.routeList = data.routeList;
                    $scope.requestList = [];

                    for (i = 0; i < $scope.routeList.length; i++) {
                        $scope.requestList.push($scope.routeList[i].request);
                    }
                });
    });
</script>
</html>